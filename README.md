# redis-message-queue-service

### Настройка сервиса
##### - composer install
##### - создать базу и импортировать файл tweets.sql
##### - включить на сервере Redis 
##### - в файле src/config.php прописываем настройки для подключения к базе
##### - в файле index.php прописываем переменную API_URL (это url для обращения к backend)
   const API_URL = '/папка проекта'; (если файлы лежат в корне сервера, то:  const API_URL = '';)

### Запуск сервиса
##### - из командной строки (в корневой директории) запустить файл listiner.php командой:
 nohup php -q listiner.php 2>&1 &

##### - входной файл index.php


### Как работает сервис
##### -клиент отправляет сообщение на сервер
##### -сообщение попадает в сервер очередей (Redis)
##### -на сервере работает слушатель в фоновом режиме (listiner.php)
##### -слушатель запускает customer.php, который выбирает сообщение из очереди и сохраняет в базе
